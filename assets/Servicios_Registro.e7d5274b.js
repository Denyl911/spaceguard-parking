import{M as O}from"./MazSelect-1f4d1193.ee45e848.js";import{M as T}from"./MazInput-8e284503.dcda8100.js";import{M as U}from"./MazBtn-000f9f66.e22e0a93.js";import{M as R}from"./MazDialog-d5f6a7d8.0579ff3d.js";import{u as x,r as t,x as P,v as h,k as w,c as B,b as p,f as s,y as o,z as b,w as E,o as J,g as L,t as S}from"./entry.544bcfbc.js";const j={class:"bg-slate-400"},F={class:"container p-4"},H=p("h1",{style:{color:"black","font-family":"Verdana","font-size":"36px"}},[p("b",null,"Servicios adicionales - Registro")],-1),q={class:"w-3/4 border bg-gradienttwo p-8 rounded-lg shadow-md"},G=p("h2",{style:{color:"white","font-family":"Verdana","font-size":"36px"},class:"mt-8"}," Datos del servicio: ",-1),$={__name:"Servicios_Registro",setup(K){const D=x();let u=t(""),i=t(""),r=t(""),n=t(""),d=t(""),c=t(""),m=t(""),v=t(""),k=t(""),I=t(""),M=t("");const A=t(!1);P();let f=JSON.parse(localStorage.getItem("entrada"));h(()=>{f?f=f.map(a=>[a.placa,a.lugDisp,a.fecha,a.hora]):f=[];const l=f.length>0?f[f.length-1]:null;v.value=l[0],k.value=l[1],I.value=l[2],M.value=l[3]});const N=()=>{if(!v.value)D.error("Faltan datos",{position:"bottom",timeout:3e3});else if(!u.value)D.error("Faltan datos",{position:"bottom",timeout:3e3});else{let l=JSON.parse(localStorage.getItem("servicios"))||[];if(l.some(V=>V.placaDos===v.value&&V.id===u.value))D.error("Este servicio ya está registrado para la placa especificada",{position:"bottom",timeout:3e3});else{const V={id:u.value,nombre:i.value,descripcion:r.value,duracion:n.value,costo:d.value,materiales:c.value,empleado:m.value,placaDos:v.value};l.push(V),localStorage.setItem("servicios",JSON.stringify(l)),v.value="",D.success("Registro exitoso!",{position:"bottom",timeout:3e3}),A.value=!0}}};w(u,l=>{l==="01LAVADO"?(i.value="Lavado",r.value="Lavado de vehículo",n.value="30 minutos",d.value="$50.00",c.value="Agua, jabón, cepillos",m.value="Jorge Iván"):l==="02ENCERADO"?(i.value="Encerado",r.value="Encerado de la carrocería",n.value="2 horas",d.value="$300.00",c.value="Cera, espoja, agua, trapo",m.value="Victor"):l==="03PULIDO"?(i.value="Pulido",r.value="Pulir carrocería y llantas",n.value="2 horas",d.value="$400.00",c.value="Pulidora, cera, jabón, agua, trapos",m.value="Rodrigo"):l==="04ACEITE"?(i.value="Cambio de aceite",r.value="Cambiar aceite y filtro",n.value="30 minutos",d.value="$800.00",c.value="Aceite específico, filtro, llaves/pinzas.",m.value="Luis"):l==="05LLANTAS"&&(i.value="Revisión de llantas",r.value="Se calibra la presión del aire, fugas y posición",n.value="1 hora",d.value="$250.00",c.value="Calibrador, compresora, agua y jabón",m.value="Jared")});function y(){u.value?A.value=!0:D.error("No hay información para mostrar en el ticket",{position:"bottom",timeout:3e3})}function _(){A.value=!1}return(l,a)=>{const V=O,g=T,C=U,z=R;return J(),B("section",j,[p("div",F,[H,p("div",q,[G,s(V,{modelValue:o(u),"onUpdate:modelValue":a[0]||(a[0]=e=>b(u)?u.value=e:u=e),label:"ID Servicio:",options:[{value:"01LAVADO",label:"01LAVADO"},{value:"02ENCERADO",label:"02ENCERADO"},{value:"03PULIDO",label:"03PULIDO"},{value:"04ACEITE",label:"04ACEITE"},{value:"05LLANTAS",label:"05LLANTAS"}]},null,8,["modelValue"]),s(g,{class:"mt-1 mb-1",modelValue:o(v),"onUpdate:modelValue":a[1]||(a[1]=e=>b(v)?v.value=e:v=e),label:"Placa",disabled:""},null,8,["modelValue"]),s(g,{class:"mt-1 mb-1",modelValue:o(i),"onUpdate:modelValue":a[2]||(a[2]=e=>b(i)?i.value=e:i=e),label:"Nombre",disabled:!0},null,8,["modelValue"]),s(g,{class:"mb-1",modelValue:o(r),"onUpdate:modelValue":a[3]||(a[3]=e=>b(r)?r.value=e:r=e),label:"Descripción",disabled:!0},null,8,["modelValue"]),s(g,{class:"mb-1",modelValue:o(n),"onUpdate:modelValue":a[4]||(a[4]=e=>b(n)?n.value=e:n=e),label:"Duración",disabled:!0},null,8,["modelValue"]),s(g,{class:"mb-1",modelValue:o(d),"onUpdate:modelValue":a[5]||(a[5]=e=>b(d)?d.value=e:d=e),label:"Costo",disabled:!0},null,8,["modelValue"]),s(g,{class:"mb-1",modelValue:o(c),"onUpdate:modelValue":a[6]||(a[6]=e=>b(c)?c.value=e:c=e),label:"Materiales",disabled:!0},null,8,["modelValue"]),s(g,{class:"mb-1",modelValue:o(m),"onUpdate:modelValue":a[7]||(a[7]=e=>b(m)?m.value=e:m=e),label:"Empleado asignado",disabled:!0},null,8,["modelValue"])]),s(C,{rounded:"",class:"mt-6 w-40",color:"black",pastel:"",onClick:N},{default:E(()=>[L("Registrar")]),_:1}),s(C,{rounded:"",class:"mt-6 w-40",color:"black",pastel:"",onClick:y},{default:E(()=>[L("Imprimir ticket")]),_:1}),s(z,{modelValue:A.value,"onUpdate:modelValue":a[8]||(a[8]=e=>A.value=e),title:"Detalle del Ticket"},{footer:E(()=>[s(C,{onClick:_,color:"success"},{default:E(()=>[L("Cerrar")]),_:1})]),default:E(()=>[p("p",null,"Placa: "+S(o(v)),1),p("p",null,"Hora: "+S(o(M)),1),p("p",null,"Fecha: "+S(o(I)),1),p("p",null,"Lugar asignado: "+S(o(k)),1),p("p",null,"Servicio adicional: "+S(o(u)),1)]),_:1},8,["modelValue"])])])}}};export{$ as default};
