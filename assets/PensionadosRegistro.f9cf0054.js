import{M as G}from"./MazBtn-000f9f66.f75d8527.js";import{M as K}from"./MazDialog-d5f6a7d8.ccc469ee.js";import{e as Q,u as W,r as t,v as x,l as F,x as X,c as L,b as a,f as s,w as i,F as R,B as l,C as r,H as Y,z as Z,A as $,o as A,g as v,t as c,p as ee,a as oe}from"./entry.8ce994ef.js";import{M as p}from"./MazInput-8e284503.5a0262f2.js";/* empty css                 */const u=I=>(ee("data-v-d9bd2d7e"),I=I(),oe(),I),le={class:"bg-slate-400"},ae={class:"container p-4"},te=u(()=>a("h1",{style:{color:"black","font-family":"Verdana","font-size":"36px"}},[a("b",null,"Vehículos pensionados - Registro")],-1)),se={class:"w-3/4 border bg-gradienttwo p-8 rounded-lg shadow-md"},ne=u(()=>a("h2",{style:{color:"white","font-family":"Verdana","font-size":"36px"},class:"mt-8"}," Datos del cliente: ",-1)),ie=u(()=>a("h3",{style:{color:"white","font-family":"Verdana","font-size":"36px"},class:"mt-8"}," Datos del vehículo: ",-1)),re=u(()=>a("h4",{style:{color:"white","font-family":"Verdana","font-size":"18px"},class:"mt-8"}," Foto: ",-1)),ue=["src"],de={class:"bg-slate-400"},me=u(()=>a("label",{for:"tiempoEstancia"},"Tiempo de estancia: ",-1)),ce=u(()=>a("option",{value:"1 semana"},"1 semana",-1)),pe=u(()=>a("option",{value:"1 mes"},"1 mes",-1)),fe=u(()=>a("option",{value:"6 meses"},"6 meses",-1)),ve=u(()=>a("option",{value:"1 año"},"1 año",-1)),ge=[ce,pe,fe,ve],be={__name:"PensionadosRegistro",setup(I){const D=W();let z=t(new Date().toLocaleTimeString()),M=t(new Date().toLocaleDateString());const U=()=>{z.value=new Date().toLocaleTimeString()};x(()=>{setInterval(U,1e3)}),F(()=>{clearInterval(U)});const N=()=>{M.value=new Date().toLocaleDateString()};x(()=>{setInterval(N,1e3)}),F(()=>{clearInterval(N)});let k=t(5),g=t(""),f=t(""),b=t(""),P=t("Activo"),_=t(""),V=t(""),B=t(""),h=t(""),y=t(""),d=t(""),w=t(""),S=t("");const C=t(!1),E=X(),T=t("");x(()=>{const m=localStorage.getItem("lugDispPensionados");m!==null&&(k.value=parseInt(m))});const H=()=>{if(!/^\d{10}$/.test(f.value)){D.error("Número de teléfono inválido. Debe contener 10 dígitos numéricos.",{position:"bottom",timeout:3e3});return}if(!g.value&&!f.value&&!b.value&&!P.value)D.error("Faltan datos del cliente",{position:"bottom",timeout:3e3});else if(!_.value&&!V.value&&!B.value&&!h.value&&!y.value&&!d.value)D.error("Faltan datos del vehiculo",{position:"bottom",timeout:3e3});else if(!w.value)D.error("Falta elegir el tiempo de estancia",{position:"bottom",timeout:3e3});else{const m={nombre:g.value,telefono:f.value,emergencia:b.value,status:P.value,modelo:_.value,marca:V.value,foto:S.value||null,color:h.value,ano:y.value,placa:d.value,tiempoEstancia:w.value};let e=JSON.parse(localStorage.getItem("pensionados"));e?e.push(m):e=[m],localStorage.setItem("pensionados",JSON.stringify(e)),E.push({name:"Pensionados-PensionadosConsulta"})}},J=m=>{const e=m.target.files[0];if(e){const n=new FileReader;n.onload=()=>{S.value=n.result},n.readAsDataURL(e)}};function O(){d.value?(T.value=new Date().toLocaleTimeString(),C.value=!0):D.error("No hay información para mostrar en el ticket",{position:"bottom",timeout:3e3})}function j(){C.value=!1}return(m,e)=>{const n=G,q=K;return A(),L("section",le,[a("div",ae,[te,s(n,{class:"mt-8 mb-5 mr-3",color:"black"},{default:i(()=>[v("Lugares disponibles: "+c(l(k)),1)]),_:1}),s(n,{class:"mt-8 mb-5 mr-3",style:R({backgroundColor:"rgba(0, 0, 0, 0.5)"})},{default:i(()=>[v("Hora actual: "+c(l(z)),1)]),_:1},8,["style"]),s(n,{class:"mt-8 mb-5 mr-3",style:R({backgroundColor:"rgba(0, 0, 0, 0.5)"})},{default:i(()=>[v("Fecha actual: "+c(l(M)),1)]),_:1},8,["style"]),s(n,{class:"mt-8",color:"success"},{default:i(()=>[v("Lugar a asignar: "+c(l(k)),1)]),_:1}),a("div",se,[ne,s(l(p),{class:"mb-1",modelValue:l(g),"onUpdate:modelValue":e[0]||(e[0]=o=>r(g)?g.value=o:g=o),type:"text",label:"Nombre del cliente"},null,8,["modelValue"]),s(l(p),{class:"mb-1",type:"tel",modelValue:l(f),"onUpdate:modelValue":e[1]||(e[1]=o=>r(f)?f.value=o:f=o),label:"Número telefónico"},null,8,["modelValue"]),s(l(p),{class:"mb-1",type:"tel",modelValue:l(b),"onUpdate:modelValue":e[2]||(e[2]=o=>r(b)?b.value=o:b=o),label:"Número de emergencia"},null,8,["modelValue"]),ie,s(l(p),{class:"mb-1",modelValue:l(_),"onUpdate:modelValue":e[3]||(e[3]=o=>r(_)?_.value=o:_=o),label:"Modelo"},null,8,["modelValue"]),s(l(p),{class:"mb-1",modelValue:l(V),"onUpdate:modelValue":e[4]||(e[4]=o=>r(V)?V.value=o:V=o),label:"Marca"},null,8,["modelValue"]),re,a("div",null,[a("input",{type:"file",onChange:J,accept:"image/*"},null,32),l(S)?(A(),L("img",{key:0,src:l(S),alt:"Preview",class:"uploaded-image"},null,8,ue)):Y("",!0)]),s(l(p),{class:"mb-1 mt-8",modelValue:l(h),"onUpdate:modelValue":e[5]||(e[5]=o=>r(h)?h.value=o:h=o),label:"Color"},null,8,["modelValue"]),s(l(p),{class:"mb-1",modelValue:l(y),"onUpdate:modelValue":e[6]||(e[6]=o=>r(y)?y.value=o:y=o),label:"Año"},null,8,["modelValue"]),s(l(p),{class:"mb-1",modelValue:l(d),"onUpdate:modelValue":e[7]||(e[7]=o=>r(d)?d.value=o:d=o),label:"Placa"},null,8,["modelValue"]),a("section",de,[me,Z(a("select",{"onUpdate:modelValue":e[8]||(e[8]=o=>r(w)?w.value=o:w=o),style:{width:"765px",height:"40px"}},ge,512),[[$,l(w)]])])]),s(n,{rounded:"",class:"mt-6 w-52",color:"info",onClick:H},{default:i(()=>[v("Registrar")]),_:1}),s(n,{rounded:"",class:"mt-6 ml-6",color:"warning",onClick:O},{default:i(()=>[v("Imprimir ticket")]),_:1})]),s(q,{modelValue:C.value,"onUpdate:modelValue":e[9]||(e[9]=o=>C.value=o),title:"Detalle del Ticket"},{footer:i(()=>[s(n,{onClick:j,color:"success"},{default:i(()=>[v("Cerrar")]),_:1})]),default:i(()=>[a("p",null,"Placa: "+c(l(d)),1),a("p",null,"Hora: "+c(T.value),1),a("p",null,"Fecha: "+c(l(M)),1),a("p",null,"Lugar asignado: "+c(l(k)),1)]),_:1},8,["modelValue"])])}}},De=Q(be,[["__scopeId","data-v-d9bd2d7e"]]);export{De as default};
