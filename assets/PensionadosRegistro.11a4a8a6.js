import{M as X}from"./MazBtn-000f9f66.6fed24bc.js";import{M as Y}from"./MazDialog-d5f6a7d8.3a72cbdc.js";import{e as Z,u as $,r as s,v as x,l as F,x as ee,c as B,b as a,f as t,w as i,G as E,B as l,C as c,E as oe,z as le,A as ae,o as H,g as u,t as m,p as te,a as se}from"./entry.20fd3aae.js";import{M as v}from"./MazInput-8e284503.0fb23997.js";/* empty css                 */const d=k=>(te("data-v-4a9937e2"),k=k(),se(),k),ne={class:"bg-slate-400"},ie={class:"container p-4"},re=d(()=>a("h1",{style:{color:"black","font-family":"Verdana","font-size":"36px"}},[a("b",null,"Vehículos pensionados - Registro")],-1)),ue={class:"w-3/4 border bg-gradienttwo p-8 rounded-lg shadow-md"},de=d(()=>a("h2",{style:{color:"white","font-family":"Verdana","font-size":"36px"},class:"mt-8"}," Datos del cliente: ",-1)),ce=d(()=>a("h3",{style:{color:"white","font-family":"Verdana","font-size":"36px"},class:"mt-8"}," Datos del vehículo: ",-1)),me=d(()=>a("h4",{style:{color:"white","font-family":"Verdana","font-size":"18px"},class:"mt-8"}," Foto: ",-1)),pe=["src"],ve={class:"bg-slate-400"},ge=d(()=>a("label",{for:"tiempoEstancia"},"Tiempo de estancia: ",-1)),fe=d(()=>a("option",{value:"1 semana"},"1 semana",-1)),_e=d(()=>a("option",{value:"1 mes"},"1 mes",-1)),Ve=d(()=>a("option",{value:"6 meses"},"6 meses",-1)),be=d(()=>a("option",{value:"1 año"},"1 año",-1)),he=[fe,_e,Ve,be],ye=d(()=>a("p",null,"¿Deseas agregar un nuevo servicio adicional?",-1)),Se={__name:"PensionadosRegistro",setup(k){const _=$();let z=s(new Date().toLocaleTimeString()),N=s(new Date().toLocaleDateString());const A=()=>{z.value=new Date().toLocaleTimeString()};x(()=>{setInterval(A,1e3)}),F(()=>{clearInterval(A)});const P=()=>{N.value=new Date().toLocaleDateString()};x(()=>{setInterval(P,1e3)}),F(()=>{clearInterval(P)});let V=s(5),b=s(""),g=s(""),h=s(""),T=s("Activo"),y=s(""),S=s(""),J=s(""),D=s(""),w=s(""),r=s(""),f=s(""),C=s("");const I=s(!1),U=ee(),R=s(""),M=s(!1);x(()=>{const p=localStorage.getItem("lugDispPensionados");p!==null&&(V.value=parseInt(p))});const O=()=>{if(!/^\d{10}$/.test(g.value)){_.error("Número de teléfono inválido. Debe contener 10 dígitos numéricos.",{position:"bottom",timeout:3e3});return}if(!b.value&&!g.value&&!h.value&&!T.value)_.error("Faltan datos del cliente",{position:"bottom",timeout:3e3});else if(!y.value&&!S.value&&!J.value&&!D.value&&!w.value&&!r.value)_.error("Faltan datos del vehiculo",{position:"bottom",timeout:3e3});else if(!f.value)_.error("Falta elegir el tiempo de estancia",{position:"bottom",timeout:3e3});else{const p={nombre:b.value,telefono:g.value,emergencia:h.value,status:T.value,modelo:y.value,marca:S.value,foto:C.value||null,color:D.value,ano:w.value,placa:r.value,tiempoEstancia:f.value};let e=JSON.parse(localStorage.getItem("pensionados"));e?e.push(p):e=[p],localStorage.setItem("pensionados",JSON.stringify(e)),M.value=!0,V.value--,localStorage.setItem("lugDispPensionados",V.value)}},q=p=>{const e=p.target.files[0];if(e){const n=new FileReader;n.onload=()=>{C.value=n.result},n.readAsDataURL(e)}};function G(){r.value?(R.value=new Date().toLocaleTimeString(),I.value=!0):_.error("No hay información para mostrar en el ticket",{position:"bottom",timeout:3e3})}function j(){I.value=!1}const K=()=>{console.log("si"),U.push({name:"Servicios_Add-Servicios_Registro",query:{placa:r.value}})},Q=()=>{M.value=!1,U.push({name:"Pensionados-PensionadosConsulta"})};function W(){r.value?U.push({name:"Servicios_Add-Servicios_Registro"}):_.error("No hay carro para asignarle un servicio",{position:"bottom",timeout:3e3})}return(p,e)=>{const n=X,L=Y;return H(),B("section",ne,[a("div",ie,[re,t(n,{class:"mt-8 mb-5 mr-3",color:"black"},{default:i(()=>[u("Lugares disponibles: "+m(l(V)),1)]),_:1}),t(n,{class:"mt-8 mb-5 mr-3",style:E({backgroundColor:"rgba(0, 0, 0, 0.5)"})},{default:i(()=>[u("Hora actual: "+m(l(z)),1)]),_:1},8,["style"]),t(n,{class:"mt-8 mb-5 mr-3",style:E({backgroundColor:"rgba(0, 0, 0, 0.5)"})},{default:i(()=>[u("Fecha actual: "+m(l(N)),1)]),_:1},8,["style"]),t(n,{class:"mt-8",color:"success"},{default:i(()=>[u("Lugar a asignar: "+m(l(V)),1)]),_:1}),a("div",ue,[de,t(l(v),{class:"mb-1",modelValue:l(b),"onUpdate:modelValue":e[0]||(e[0]=o=>c(b)?b.value=o:b=o),type:"text",label:"Nombre del cliente"},null,8,["modelValue"]),t(l(v),{class:"mb-1",type:"tel",modelValue:l(g),"onUpdate:modelValue":e[1]||(e[1]=o=>c(g)?g.value=o:g=o),label:"Número telefónico"},null,8,["modelValue"]),t(l(v),{class:"mb-1",type:"tel",modelValue:l(h),"onUpdate:modelValue":e[2]||(e[2]=o=>c(h)?h.value=o:h=o),label:"Número de emergencia"},null,8,["modelValue"]),ce,t(l(v),{class:"mb-1",modelValue:l(y),"onUpdate:modelValue":e[3]||(e[3]=o=>c(y)?y.value=o:y=o),label:"Modelo"},null,8,["modelValue"]),t(l(v),{class:"mb-1",modelValue:l(S),"onUpdate:modelValue":e[4]||(e[4]=o=>c(S)?S.value=o:S=o),label:"Marca"},null,8,["modelValue"]),me,a("div",null,[a("input",{type:"file",onChange:q,accept:"image/*"},null,32),l(C)?(H(),B("img",{key:0,src:l(C),alt:"Preview",class:"uploaded-image"},null,8,pe)):oe("",!0)]),t(l(v),{class:"mb-1 mt-8",modelValue:l(D),"onUpdate:modelValue":e[5]||(e[5]=o=>c(D)?D.value=o:D=o),label:"Color"},null,8,["modelValue"]),t(l(v),{class:"mb-1",modelValue:l(w),"onUpdate:modelValue":e[6]||(e[6]=o=>c(w)?w.value=o:w=o),label:"Año"},null,8,["modelValue"]),t(l(v),{class:"mb-1",modelValue:l(r),"onUpdate:modelValue":e[7]||(e[7]=o=>c(r)?r.value=o:r=o),label:"Placa"},null,8,["modelValue"]),a("section",ve,[ge,le(a("select",{"onUpdate:modelValue":e[8]||(e[8]=o=>c(f)?f.value=o:f=o),style:{width:"35rem",height:"40px"}},he,512),[[ae,l(f)]])])]),t(n,{rounded:"",class:"mt-6 w-52",color:"info",onClick:O},{default:i(()=>[u("Registrar")]),_:1}),t(n,{rounded:"",class:"mt-6 ml-6",color:"warning",onClick:G},{default:i(()=>[u("Imprimir ticket")]),_:1}),t(n,{rounded:"",class:"mt-6 ml-2",color:"warning",onClick:W},{default:i(()=>[u("Servicio adicional")]),_:1})]),t(L,{modelValue:I.value,"onUpdate:modelValue":e[9]||(e[9]=o=>I.value=o),title:"Detalle del Ticket"},{footer:i(()=>[t(n,{onClick:j,color:"success"},{default:i(()=>[u("Cerrar")]),_:1})]),default:i(()=>[a("p",null,"Placa: "+m(l(r)),1),a("p",null,"Hora: "+m(R.value),1),a("p",null,"Fecha: "+m(l(N)),1),a("p",null,"Lugar asignado: "+m(l(V)),1),a("p",null,"Tiempo de estancia: "+m(l(f)),1)]),_:1},8,["modelValue"]),t(L,{modelValue:M.value,"onUpdate:modelValue":e[10]||(e[10]=o=>M.value=o),title:"Agregar Servicio Adicional"},{footer:i(()=>[t(n,{onClick:K,color:"success"},{default:i(()=>[u(" Sí ")]),_:1}),t(n,{onClick:Q,color:"error"},{default:i(()=>[u(" No ")]),_:1})]),default:i(()=>[ye]),_:1},8,["modelValue"])])}}},Me=Z(Se,[["__scopeId","data-v-4a9937e2"]]);export{Me as default};
