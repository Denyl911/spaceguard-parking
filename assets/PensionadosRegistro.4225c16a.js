import{M as H}from"./MazBtn-000f9f66.4f02c25b.js";import{e as J,u as O,r as t,v as C,l as P,x as j,c as L,b as a,f as s,w as p,E as R,B as o,C as u,L as q,z as G,A as K,o as F,g as r,t as D,p as Q,a as W}from"./entry.fd85b3d7.js";import{M as c}from"./MazInput-8e284503.e507e32a.js";const i=w=>(Q("data-v-34aaebf2"),w=w(),W(),w),X={class:"bg-slate-400"},Y={class:"container p-4"},Z=i(()=>a("h1",{style:{color:"black","font-family":"Verdana","font-size":"36px"}},[a("b",null,"Vehículos pensionados - Registro")],-1)),$={class:"w-3/4 border bg-gradienttwo p-8 rounded-lg shadow-md"},ee=i(()=>a("h2",{style:{color:"white","font-family":"Verdana","font-size":"36px"},class:"mt-8"}," Datos del cliente: ",-1)),le=i(()=>a("h3",{style:{color:"white","font-family":"Verdana","font-size":"36px"},class:"mt-8"}," Datos del vehículo: ",-1)),oe=i(()=>a("h4",{style:{color:"white","font-family":"Verdana","font-size":"18px"},class:"mt-8"}," Foto: ",-1)),ae=["src"],te={class:"bg-slate-400"},se=i(()=>a("label",{for:"tiempoEstancia"},"Tiempo de estancia: ",-1)),ne=i(()=>a("option",{value:"1 semana"},"1 semana",-1)),ie=i(()=>a("option",{value:"1 mes"},"1 mes",-1)),ue=i(()=>a("option",{value:"6 meses"},"6 meses",-1)),de=i(()=>a("option",{value:"1 año"},"1 año",-1)),re=[ne,ie,ue,de],ce={style:{float:"left","margin-left":"850px"}},me=i(()=>a("br",null,null,-1)),pe=i(()=>a("div",{style:{clear:"both"}},null,-1)),fe={__name:"PensionadosRegistro",setup(w){const S=O();let U=t(new Date().toLocaleTimeString()),k=t(new Date().toLocaleDateString());const z=()=>{U.value=new Date().toLocaleTimeString()};C(()=>{setInterval(z,1e3)}),P(()=>{clearInterval(z)});const M=()=>{k.value=new Date().toLocaleDateString()};C(()=>{setInterval(M,1e3)}),P(()=>{clearInterval(M)});let I=t(5),f=t(""),m=t(""),v=t(""),N=t("Activo"),b=t(""),g=t(""),A=t(""),_=t(""),V=t(""),h=t(""),y=t(""),x=t("");const B=j();C(()=>{const d=localStorage.getItem("lugDispPensionados");d!==null&&(I.value=parseInt(d))});const E=()=>{if(!/^\d{10}$/.test(m.value)){S.error("Número de teléfono inválido. Debe contener 10 dígitos numéricos.",{position:"bottom",timeout:3e3});return}if(!f.value&&!m.value&&!v.value&&!N.value)S.error("Faltan datos del cliente",{position:"bottom",timeout:3e3});else if(!b.value&&!g.value&&!A.value&&!_.value&&!V.value&&!h.value)S.error("Faltan datos del vehiculo",{position:"bottom",timeout:3e3});else if(!y.value)S.error("Falta elegir el tiempo de estancia",{position:"bottom",timeout:3e3});else{const d={nombre:f.value,telefono:m.value,emergencia:v.value,status:N.value,modelo:b.value,marca:g.value,foto:x.value||null,color:_.value,ano:V.value,placa:h.value,tiempoEstancia:y.value};let e=JSON.parse(localStorage.getItem("pensionados"));e?e.push(d):e=[d],localStorage.setItem("pensionados",JSON.stringify(e)),B.push({name:"Pensionados-PensionadosConsulta"})}},T=d=>{const e=d.target.files[0];if(e){const n=new FileReader;n.onload=()=>{x.value=n.result},n.readAsDataURL(e)}};return(d,e)=>{const n=H;return F(),L("section",X,[a("div",Y,[Z,s(n,{class:"mt-8 mb-5",color:"black"},{default:p(()=>[r("Lugares disponibles: "+D(o(I)),1)]),_:1}),s(n,{class:"mt-8 mb-5",style:R({backgroundColor:"rgba(0, 0, 0, 0.5)"})},{default:p(()=>[r("Hora actual: "+D(o(U)),1)]),_:1},8,["style"]),s(n,{class:"mt-8 mb-5",style:R({backgroundColor:"rgba(0, 0, 0, 0.5)"})},{default:p(()=>[r("Fecha actual: "+D(o(k)),1)]),_:1},8,["style"]),a("div",$,[ee,s(o(c),{class:"mb-1",modelValue:o(f),"onUpdate:modelValue":e[0]||(e[0]=l=>u(f)?f.value=l:f=l),type:"text",label:"Nombre del cliente"},null,8,["modelValue"]),s(o(c),{class:"mb-1",type:"tel",modelValue:o(m),"onUpdate:modelValue":e[1]||(e[1]=l=>u(m)?m.value=l:m=l),label:"Número telefónico"},null,8,["modelValue"]),s(o(c),{class:"mb-1",type:"tel",modelValue:o(v),"onUpdate:modelValue":e[2]||(e[2]=l=>u(v)?v.value=l:v=l),label:"Número de emergencia"},null,8,["modelValue"]),le,s(o(c),{class:"mb-1",modelValue:o(b),"onUpdate:modelValue":e[3]||(e[3]=l=>u(b)?b.value=l:b=l),label:"Modelo"},null,8,["modelValue"]),s(o(c),{class:"mb-1",modelValue:o(g),"onUpdate:modelValue":e[4]||(e[4]=l=>u(g)?g.value=l:g=l),label:"Marca"},null,8,["modelValue"]),oe,a("div",null,[a("input",{type:"file",onChange:T,accept:"image/*"},null,32),o(x)?(F(),L("img",{key:0,src:o(x),alt:"Preview",class:"uploaded-image"},null,8,ae)):q("",!0)]),s(o(c),{class:"mb-1 mt-8",modelValue:o(_),"onUpdate:modelValue":e[5]||(e[5]=l=>u(_)?_.value=l:_=l),label:"Color"},null,8,["modelValue"]),s(o(c),{class:"mb-1",modelValue:o(V),"onUpdate:modelValue":e[6]||(e[6]=l=>u(V)?V.value=l:V=l),label:"Año"},null,8,["modelValue"]),s(o(c),{class:"mb-1",modelValue:o(h),"onUpdate:modelValue":e[7]||(e[7]=l=>u(h)?h.value=l:h=l),label:"Placa"},null,8,["modelValue"]),a("section",te,[se,G(a("select",{"onUpdate:modelValue":e[8]||(e[8]=l=>u(y)?y.value=l:y=l),style:{width:"765px",height:"40px"}},re,512),[[K,o(y)]])])]),s(n,{rounded:"",class:"mt-6 w-40",color:"black",pastel:"",onClick:E},{default:p(()=>[r("Registrar")]),_:1})]),a("div",ce,[s(n,{class:"mt-8",color:"success"},{default:p(()=>[r("Lugar asignado:"),me,r(D(o(I)),1)]),_:1})]),pe,a("div",null,[s(n,{rounded:"",class:"mt-6 w-40",color:"black",pastel:""},{default:p(()=>[r("Servicio adicional")]),_:1}),s(n,{rounded:"",class:"mt-6 w-40",color:"black",pastel:""},{default:p(()=>[r("Promociones")]),_:1})])])}}},_e=J(fe,[["__scopeId","data-v-34aaebf2"]]);export{_e as default};
