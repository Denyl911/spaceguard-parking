import{M as O}from"./MazSelect-1f4d1193.6ae9c6d8.js";import{M as T}from"./MazInput-8e284503.a624b2c6.js";import{M as U}from"./MazBtn-000f9f66.17a7c7c0.js";import{M as R}from"./MazDialog-d5f6a7d8.0830be15.js";import{u as x,r as t,x as P,v as h,k as w,c as B,b as p,f as s,y as o,z as b,w as E,o as J,g as C,t as S}from"./entry.88b27e95.js";const j={class:"bg-slate-400"},F={class:"container p-4"},H=p("h1",{style:{color:"black","font-family":"Verdana","font-size":"36px"}},[p("b",null,"Servicios adicionales - Registro")],-1),q={class:"w-3/4 border bg-gradienttwo p-8 rounded-lg shadow-md"},G=p("h2",{style:{color:"white","font-family":"Verdana","font-size":"36px"},class:"mt-8"}," Datos del servicio: ",-1),$={__name:"Servicios_Registro",setup(K){const V=x();let i=t(""),r=t(""),n=t(""),d=t(""),m=t(""),c=t(""),v=t(""),u=t(""),L=t(""),I=t(""),M=t("");const A=t(!1);P();let f=JSON.parse(localStorage.getItem("entrada"));h(()=>{f?f=f.map(a=>[a.placa,a.lugDisp,a.fecha,a.hora]):f=[];const l=f.length>0?f[f.length-1]:null;u.value=l[0],L.value=l[1],I.value=l[2],M.value=l[3]});const N=()=>{if(!u.value)V.error("Faltan datos",{position:"bottom",timeout:3e3});else if(!i.value)V.error("Faltan datos",{position:"bottom",timeout:3e3});else{let l=JSON.parse(localStorage.getItem("servicios"))||[];if(l.some(D=>D.placaDos===u.value&&D.id===i.value))V.error("Este servicio ya está registrado para la placa especificada",{position:"bottom",timeout:3e3});else{const D={id:i.value,nombre:r.value,descripcion:n.value,duracion:d.value,costo:m.value,materiales:c.value,empleado:v.value,placaDos:u.value};l.push(D),localStorage.setItem("servicios",JSON.stringify(l)),u.value="",V.success("Registro exitoso!",{position:"bottom",timeout:3e3}),A.value=!0}}};w(i,l=>{l==="01LAVADO"?(r.value="Lavado",n.value="Lavado de vehículo",d.value="30 minutos",m.value="$50.00",c.value="Agua, jabón, cepillos",v.value="Jorge Iván"):l==="02ENCERADO"?(r.value="Encerado",n.value="Encerado de la carrocería",d.value="2 horas",m.value="$300.00",c.value="Cera, espoja, agua, trapo",v.value="Victor"):l==="03PULIDO"?(r.value="Pulido",n.value="Pulir carrocería y llantas",d.value="2 horas",m.value="$400.00",c.value="Pulidora, cera, jabón, agua, trapos",v.value="Rodrigo"):l==="04ACEITE"?(r.value="Cambio de aceite",n.value="Cambiar aceite y filtro",d.value="30 minutos",m.value="$800.00",c.value="Aceite específico, filtro, llaves/pinzas.",v.value="Luis"):l==="05LLANTAS"&&(r.value="Revisión de llantas",n.value="Se calibra la presión del aire, fugas y posición",d.value="1 hora",m.value="$250.00",c.value="Calibrador, compresora, agua y jabón",v.value="Jared")});function y(){i.value?u.value?A.value=!0:V.error("No hay información para mostrar en el ticket",{position:"bottom",timeout:3e3}):V.error("No hay información para mostrar en el ticket",{position:"bottom",timeout:3e3})}function _(){A.value=!1}return(l,a)=>{const D=O,g=T,k=U,z=R;return J(),B("section",j,[p("div",F,[H,p("div",q,[G,s(D,{modelValue:o(i),"onUpdate:modelValue":a[0]||(a[0]=e=>b(i)?i.value=e:i=e),label:"ID Servicio:",options:[{value:"01LAVADO",label:"01LAVADO"},{value:"02ENCERADO",label:"02ENCERADO"},{value:"03PULIDO",label:"03PULIDO"},{value:"04ACEITE",label:"04ACEITE"},{value:"05LLANTAS",label:"05LLANTAS"}]},null,8,["modelValue"]),s(g,{class:"mt-1 mb-1",modelValue:o(u),"onUpdate:modelValue":a[1]||(a[1]=e=>b(u)?u.value=e:u=e),label:"Placa",disabled:""},null,8,["modelValue"]),s(g,{class:"mt-1 mb-1",modelValue:o(r),"onUpdate:modelValue":a[2]||(a[2]=e=>b(r)?r.value=e:r=e),label:"Nombre",disabled:!0},null,8,["modelValue"]),s(g,{class:"mb-1",modelValue:o(n),"onUpdate:modelValue":a[3]||(a[3]=e=>b(n)?n.value=e:n=e),label:"Descripción",disabled:!0},null,8,["modelValue"]),s(g,{class:"mb-1",modelValue:o(d),"onUpdate:modelValue":a[4]||(a[4]=e=>b(d)?d.value=e:d=e),label:"Duración",disabled:!0},null,8,["modelValue"]),s(g,{class:"mb-1",modelValue:o(m),"onUpdate:modelValue":a[5]||(a[5]=e=>b(m)?m.value=e:m=e),label:"Costo",disabled:!0},null,8,["modelValue"]),s(g,{class:"mb-1",modelValue:o(c),"onUpdate:modelValue":a[6]||(a[6]=e=>b(c)?c.value=e:c=e),label:"Materiales",disabled:!0},null,8,["modelValue"]),s(g,{class:"mb-1",modelValue:o(v),"onUpdate:modelValue":a[7]||(a[7]=e=>b(v)?v.value=e:v=e),label:"Empleado asignado",disabled:!0},null,8,["modelValue"])]),s(k,{rounded:"",class:"mt-6 w-40",color:"black",pastel:"",onClick:N},{default:E(()=>[C("Registrar")]),_:1}),s(k,{rounded:"",class:"mt-6 w-40",color:"black",pastel:"",onClick:y},{default:E(()=>[C("Imprimir ticket")]),_:1}),s(z,{modelValue:A.value,"onUpdate:modelValue":a[8]||(a[8]=e=>A.value=e),title:"Detalle del Ticket"},{footer:E(()=>[s(k,{onClick:_,color:"success"},{default:E(()=>[C("Cerrar")]),_:1})]),default:E(()=>[p("p",null,"Placa: "+S(o(u)),1),p("p",null,"Hora: "+S(o(M)),1),p("p",null,"Fecha: "+S(o(I)),1),p("p",null,"Lugar asignado: "+S(o(L)),1),p("p",null,"Servicio adicional: "+S(o(i)),1)]),_:1},8,["modelValue"])])])}}};export{$ as default};
