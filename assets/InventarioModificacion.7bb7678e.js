import{M as B}from"./MazInput-8e284503.de518924.js";import{e as C,u as P,r as s,D as R,v as J,c as S,b as r,f as n,B as t,C as d,G as K,w as k,H as O,o as w,g as x,p as A,a as F}from"./entry.16094a4f.js";import{M as G}from"./MazBtn-000f9f66.a52fb37d.js";import{M as T}from"./MazSelect-1f4d1193.af6c21d9.js";/* empty css                 */const g=V=>(A("data-v-d77267dc"),V=V(),F(),V),E={class:"bg-slate-400"},H={class:"container p-4"},L=g(()=>r("h1",{style:{color:"black","font-family":"Verdana","font-size":"36px"}},[r("b",null,"Inventario - Modificación")],-1)),j={class:"w-3/4 border bg-gradienttwo p-8 rounded-lg shadow-md"},q=g(()=>r("h2",{style:{color:"white","font-family":"Verdana","font-size":"36px"},class:"mt-8"}," Datos del artículo: ",-1)),Q=g(()=>r("h4",{style:{color:"white","font-family":"Verdana","font-size":"18px"},class:"mt-8"}," Foto: ",-1)),W=["src"],X={__name:"InventarioModificacion",setup(V){const z=P();let u=s(""),i=s(""),c=s(""),m=s(""),p=s(""),v=s(""),b=s(""),f=s(""),_=[],I=s([]);const N=R();J(()=>{_=JSON.parse(localStorage.getItem("inventario"));let a=JSON.parse(localStorage.getItem("proveedores"))||[{label:"Añada un provedor antes"}];I.value=a.map(e=>({value:e.Nombre,label:`${e.id} - ${e.Nombre}`}))});const y=()=>{const a=_.find(e=>e.id==u.value);a?(i.value=a.proveedor,c.value=a.id,m.value=a.nombre,p.value=a.descripcion,v.value=a.ppp,b.value=a.stock,f.value=a.imagen):z.error("Registro no encontrado",{position:"bottom",timeout:3e3})},U=()=>{const a=_.findIndex(e=>e.id==u.value);_[a]={id:c.value,nombre:m.value,proveedor:i.value,descripcion:p.value,ppp:v.value,stock:b.value,imagen:f.value||null},localStorage.setItem("inventario",JSON.stringify(_)),N.push({name:"Inventario-InventarioConsulta"})},D=a=>{const e=a.target.files[0];if(e){const l=new FileReader;l.onload=()=>{f.value=l.result},l.readAsDataURL(e)}};return(a,e)=>{const l=B,M=G,h=T;return w(),S("section",E,[r("div",H,[L,n(l,{class:"mt-8",modelValue:t(u),"onUpdate:modelValue":e[0]||(e[0]=o=>d(u)?u.value=o:u=o),label:"ID Producto",onKeyup:K(y,["enter"])},null,8,["modelValue","onKeyup"]),n(M,{class:"mt-2 mb-5",color:"black",onClick:y},{default:k(()=>[x("Buscar artículo")]),_:1}),r("div",j,[q,n(l,{class:"mb-1",modelValue:t(c),"onUpdate:modelValue":e[1]||(e[1]=o=>d(c)?c.value=o:c=o),label:"ID producto",disabled:""},null,8,["modelValue"]),n(h,{class:"mb-1",modelValue:t(i),"onUpdate:modelValue":e[2]||(e[2]=o=>d(i)?i.value=o:i=o),label:"Seleccione un proveedor",options:t(I),color:"secondary"},null,8,["modelValue","options"]),n(l,{class:"mb-1",modelValue:t(m),"onUpdate:modelValue":e[3]||(e[3]=o=>d(m)?m.value=o:m=o),label:"Nombre"},null,8,["modelValue"]),n(l,{class:"mb-1",modelValue:t(p),"onUpdate:modelValue":e[4]||(e[4]=o=>d(p)?p.value=o:p=o),label:"Descripcion"},null,8,["modelValue"]),n(l,{class:"mb-1",modelValue:t(v),"onUpdate:modelValue":e[5]||(e[5]=o=>d(v)?v.value=o:v=o),label:"Precio por unidad"},null,8,["modelValue"]),n(l,{class:"mb-1",modelValue:t(b),"onUpdate:modelValue":e[6]||(e[6]=o=>d(b)?b.value=o:b=o),label:"Stock"},null,8,["modelValue"]),Q,r("div",null,[r("input",{type:"file",onChange:D,accept:"image/*"},null,32),t(f)?(w(),S("img",{key:0,src:t(f),alt:"Preview",class:"uploaded-image"},null,8,W)):O("",!0)])]),n(M,{rounded:"",class:"mt-6 w-80",color:"black",pastel:"",onClick:U},{default:k(()=>[x("Guardar y actualizar")]),_:1})])])}}},ae=C(X,[["__scopeId","data-v-d77267dc"]]);export{ae as default};
