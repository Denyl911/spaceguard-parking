import{M as z}from"./MazSelect-1f4d1193.de8aded8.js";import{M as T}from"./MazInput-8e284503.0fb23997.js";import{M as U}from"./MazBtn-000f9f66.6fed24bc.js";import{M as h}from"./MazDialog-d5f6a7d8.3a72cbdc.js";import{u as x,r as t,x as k,ab as P,v as B,k as J,c as j,b as s,f as m,B as o,C as b,w as E,o as w,g as y,t as D}from"./entry.20fd3aae.js";/* empty css                 */const F={class:"bg-slate-400"},q={class:"container p-4"},H=s("h1",{style:{color:"black","font-family":"Verdana","font-size":"36px"}},[s("b",null,"Servicios adicionales - Registro")],-1),G={class:"w-3/4 border bg-gradienttwo p-8 rounded-lg shadow-md"},K=s("h2",{style:{color:"white","font-family":"Verdana","font-size":"36px"},class:"mt-8"}," Datos del servicio: ",-1),Q=s("p",null,"Costo: $10 por hora",-1),le={__name:"Servicios_Registro",setup(W){const A=x();let v=t(""),i=t(""),r=t(""),n=t(""),u=t(""),d=t(""),f=t(""),c=t(""),S=t(""),L=t(""),_=t("");const C=t(!1);k();const I=P();let p=JSON.parse(localStorage.getItem("entrada"));B(()=>{if(p?p=p.map(a=>[a.placa,a.lugDisp,a.fecha,a.hora]):p=[],I.query.placa)c.value=I.query.placa;else{const a=p.length>0?p[p.length-1]:null;a&&(c.value=a[0],S.value=a[1],L.value=a[2],_.value=a[3])}});const N=()=>{if(!c.value)A.error("Faltan datos",{position:"bottom",timeout:3e3});else if(!v.value)A.error("Faltan datos",{position:"bottom",timeout:3e3});else{let a=JSON.parse(localStorage.getItem("servicios"))||[];if(a.some(g=>g.placaDos===c.value&&g.id===v.value))A.error("Este servicio ya está registrado para la placa especificada",{position:"bottom",timeout:3e3});else{const g={id:v.value,nombre:i.value,descripcion:r.value,duracion:n.value,costo:u.value,materiales:d.value,empleado:f.value,placaDos:c.value};a.push(g),localStorage.setItem("servicios",JSON.stringify(a)),A.success("Registro exitoso!",{position:"bottom",timeout:3e3}),C.value=!0}}};J(v,a=>{a==="01LAVADO"?(i.value="Lavado",r.value="Lavado de vehículo",n.value="30 minutos",u.value="$50.00",d.value="Agua, jabón, cepillos",f.value="Jorge Iván"):a==="02ENCERADO"?(i.value="Encerado",r.value="Encerado de la carrocería",n.value="2 horas",u.value="$300.00",d.value="Cera, espoja, agua, trapo",f.value="Victor"):a==="03PULIDO"?(i.value="Pulido",r.value="Pulir carrocería y llantas",n.value="2 horas",u.value="$400.00",d.value="Pulidora, cera, jabón, agua, trapos",f.value="Rodrigo"):a==="04ACEITE"?(i.value="Cambio de aceite",r.value="Cambiar aceite y filtro",n.value="30 minutos",u.value="$800.00",d.value="Aceite específico, filtro, llaves/pinzas.",f.value="Luis"):a==="05LLANTAS"&&(i.value="Revisión de llantas",r.value="Se calibra la presión del aire, fugas y posición",n.value="1 hora",u.value="$250.00",d.value="Calibrador, compresora, agua y jabón",f.value="Jared")});function O(){C.value=!1}return(a,l)=>{const g=z,V=T,M=U,R=h;return w(),j("section",F,[s("div",q,[H,s("div",G,[K,m(g,{modelValue:o(v),"onUpdate:modelValue":l[0]||(l[0]=e=>b(v)?v.value=e:v=e),label:"ID Servicio:",options:[{value:"01LAVADO",label:"01LAVADO"},{value:"02ENCERADO",label:"02ENCERADO"},{value:"03PULIDO",label:"03PULIDO"},{value:"04ACEITE",label:"04ACEITE"},{value:"05LLANTAS",label:"05LLANTAS"}]},null,8,["modelValue"]),m(V,{class:"mt-1 mb-1",modelValue:o(c),"onUpdate:modelValue":l[1]||(l[1]=e=>b(c)?c.value=e:c=e),label:"Placa"},null,8,["modelValue"]),m(V,{class:"mt-1 mb-1",modelValue:o(i),"onUpdate:modelValue":l[2]||(l[2]=e=>b(i)?i.value=e:i=e),label:"Nombre",disabled:!0},null,8,["modelValue"]),m(V,{class:"mb-1",modelValue:o(r),"onUpdate:modelValue":l[3]||(l[3]=e=>b(r)?r.value=e:r=e),label:"Descripción",disabled:!0},null,8,["modelValue"]),m(V,{class:"mb-1",modelValue:o(n),"onUpdate:modelValue":l[4]||(l[4]=e=>b(n)?n.value=e:n=e),label:"Duración",disabled:!0},null,8,["modelValue"]),m(V,{class:"mb-1",modelValue:o(u),"onUpdate:modelValue":l[5]||(l[5]=e=>b(u)?u.value=e:u=e),label:"Costo",disabled:!0},null,8,["modelValue"]),m(V,{class:"mb-1",modelValue:o(d),"onUpdate:modelValue":l[6]||(l[6]=e=>b(d)?d.value=e:d=e),label:"Materiales",disabled:!0},null,8,["modelValue"])]),m(M,{rounded:"",class:"mt-6 w-52",color:"info",onClick:N},{default:E(()=>[y("Registrar")]),_:1}),m(R,{modelValue:C.value,"onUpdate:modelValue":l[7]||(l[7]=e=>C.value=e),title:"Detalle del Ticket"},{footer:E(()=>[m(M,{onClick:O,color:"success"},{default:E(()=>[y("Cerrar")]),_:1})]),default:E(()=>[s("p",null,"Placa: "+D(o(c)),1),s("p",null,"Hora: "+D(o(_)),1),s("p",null,"Fecha: "+D(o(L)),1),s("p",null,"Lugar asignado: "+D(o(S)),1),s("p",null,"Servicio adicional: "+D(o(v)),1),Q,s("p",null,"Costo del servicio adicional: "+D(o(u)),1)]),_:1},8,["modelValue"])])])}}};export{le as default};
